<app-header></app-header>

<section id="hero">
  <div class="overlay"></div>
  <div class="carousel">
    <div
      class="slide"
      style="background-image: url('../assets/img/carrusel.jpg')"
    ></div>
    <div
      class="slide"
      style="background-image: url('../assets/img/carrusel2.jpg')"
    ></div>
    <div
      class="slide"
      style="background-image: url('../assets/img/carrusel3.jpg')"
    ></div>
  </div>
  <div class="content">
    <h1>Bienvenido a la Clínica de Gatos MichiMed</h1>
    <p>
      <mark
        >Un hospital veterinario de servicio completo para gatos y sus
        necesidades de cuidado</mark
      >
    </p>
    <button class="btn-1">Programa tu cita</button>
  </div>
</section>
<main>
  <section id="online-services">
    <h2>Servicios en Línea</h2>
    <p>
      Ofrecemos una variedad de servicios en línea para ayudarte a gestionar la
      salud de tu mascota. Puedes usar estos servicios para revisar el estado de
      tu mascota hospitalizada, ver el historial médico de tu mascota, crear una
      cuenta para gestionar la salud de tu mascota, o ver y gestionar mascotas
      hospitalizadas si eres veterinario.
    </p>
    <button
      id="btnVerMisMascotas"
      (click)="showFindMascotasDialog()"
      class="btn-2"
    >
      Ver mis mascotas
    </button>
  </section>
  <section class="service-grid">
    <div class="service-item cursor-pointer" (click)="openNewWindow('tienda')">
      <i class="pi pi-cart-plus text-4xl"></i>
      <h3>Tienda Exclusiva para Gatitos</h3>
      <p>
        Descubre nuestros productos especialmente seleccionados para tu gato
      </p>
    </div>
    <div
      class="service-item cursor-pointer"
      (click)="openNewWindow('calculadora')"
    >
      <i class="pi pi-calculator text-4xl"></i>
      <h3>Calculadora de Peso Ideal</h3>
      <p>Asegúrate de que tu mascota esté en su peso óptimo</p>
    </div>
    <div class="service-item cursor-pointer" (click)="openNewWindow('blogs')">
      <i class="pi pi-bookmark text-4xl"></i>
      <h3>Recursos Educativos para Dueños de Gatos</h3>
      <p>Explora artículos y guías para cuidar mejor a tu mascota</p>
    </div>
  </section>
  <section id="additional-services">
    <div class="additional_service-item">
      <img src="../assets/img/servicios.png" alt="Nail Cutting" />

      <h3>Corte de Uñas</h3>
    </div>

    <div class="additional_service-item">
      <img src="../assets/img/servicios2.png" alt="Hospitalización" />
      <h3>Hospitalización</h3>
    </div>

    <div class="additional_service-item">
      <img src="../assets/img/servicios3.png" alt="Limpieza" />
      <h3>Limpieza</h3>
    </div>
  </section>

  <section id="contact-email" class="text-center">
    <h2>¿Preguntas sobre los servicios que ofrecemos?</h2>
    <p>Contáctanos en <strong>info@michimed.com</strong></p>
    <button class="btn-2">Envíanos un Correo</button>
  </section>

  <section id="testimonios" class="w-full mx-auto px-4 py-12">
    <h2 class="text-3xl font-semibold text-center mb-8">
      Lo que dicen nuestros clientes
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Testimonio 1 -->
      <div
        class="bg-gray-100 p-6 rounded-lg shadow-md flex flex-col items-center text-center"
      >
        <img
          src="https://randomuser.me/api/portraits/men/1.jpg"
          alt="Cliente"
          class="w-20 h-20 rounded-full mb-4 object-cover"
        />
        <h3 class="text-lg font-semibold mb-2">Carlos M.</h3>
        <p class="text-gray-600">
          "Excelente servicio y trato. Mi gato fue atendido con mucha dedicación
          y cuidado. Definitivamente recomendaría MichiMed a otros dueños de
          gatos."
        </p>
      </div>
      <!-- Testimonio 2 -->
      <div
        class="bg-gray-100 p-6 rounded-lg shadow-md flex flex-col items-center text-center"
      >
        <img
          src="https://randomuser.me/api/portraits/women/2.jpg"
          alt="Cliente"
          class="w-20 h-20 rounded-full mb-4 object-cover"
        />
        <h3 class="text-lg font-semibold mb-2">Laura G.</h3>
        <p class="text-gray-600">
          "La calculadora de peso me ayudó mucho a asegurarme de que mi gato
          estaba en su peso ideal. Muy contenta con el servicio en línea y la
          atención."
        </p>
      </div>
      <!-- Testimonio 3 -->
      <div
        class="bg-gray-100 p-6 rounded-lg shadow-md flex flex-col items-center text-center"
      >
        <img
          src="https://randomuser.me/api/portraits/men/3.jpg"
          alt="Cliente"
          class="w-20 h-20 rounded-full mb-4 object-cover"
        />
        <h3 class="text-lg font-semibold mb-2">Andrés P.</h3>
        <p class="text-gray-600">
          "Un hospital veterinario especializado y confiable. La atención fue
          rápida y muy profesional. ¡Gracias, MichiMed!"
        </p>
      </div>
    </div>
  </section>

  <section
    id="contact"
    class="px-6 py-10 text-center border-solid border-[var(--color-1)] rounded-3xl w-full mt-10 mb-12"
  >
    <h1 class="text-[var(--color-1)] text-3xl font-bold mb-8">Contáctanos</h1>
    <form class="space-y-6 max-w-4xl m-auto justify-self-center">
      <div>
        <label
          class="block text-left text-lg font-semibold text-[var(--color-1)] mb-2"
          for="name"
          >Nombre</label
        >
        <input
          type="text"
          id="name"
          placeholder="Tu nombre"
          required
          class="w-full px-4 py-3 border border-[var(--color-1)] rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label
          class="block text-left text-lg font-semibold text-[var(--color-1)] mb-2"
          for="email"
          >Correo Electrónico</label
        >
        <input
          type="email"
          id="email"
          placeholder="Tu correo electrónico"
          required
          class="w-full px-4 py-3 border border-[var(--color-1)] rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label
          class="block text-left text-lg font-semibold text-[var(--color-1)] mb-2"
          for="subject"
          >Asunto</label
        >
        <input
          type="text"
          id="subject"
          placeholder="Asunto"
          required
          class="w-full px-4 py-3 border border-[var(--color-1)] rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label
          class="block text-left text-lg font-semibold text-[var(--color-1)] mb-2"
          for="message"
          >Mensaje</label
        >
        <textarea
          id="message"
          placeholder="Escribe tu mensaje aquí..."
          required
          class="w-full h-40 px-4 py-3 border border-[var(--color-1)] rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none"
        ></textarea>
      </div>
      <button
        type="submit"
        class="w-full bg-[var(--color-1)] text-white font-semibold py-3 rounded-lg shadow-md hover:bg-[var(--text-secondary)] focus:outline-none focus:ring-4 focus:ring-blue-400"
      >
        Enviar
      </button>
    </form>
  </section>

  <section id="faq" class="w-full max-w-5xl mx-auto px-4 py-8">
    <h2 class="text-3xl font-semibold text-center mb-6">
      Preguntas Frecuentes
    </h2>
    <div class="space-y-4">
      <div class="bg-gray-100 p-4 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold">¿Cómo puedo programar una cita?</h3>
        <p class="text-gray-700 mt-2">
          Para programar una cita, simplemente haz clic en el botón "Programa tu
          cita" en la sección principal de la página o llámanos directamente a
          nuestro número de contacto.
        </p>
      </div>
      <div class="bg-gray-100 p-4 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold">¿Ofrecen servicios de emergencia?</h3>
        <p class="text-gray-700 mt-2">
          Sí, nuestro equipo está disponible para emergencias. Puedes
          comunicarte con nosotros a través del WhatsApp o nuestro número de
          contacto en caso de emergencia.
        </p>
      </div>
      <div class="bg-gray-100 p-4 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold">
          ¿Cómo funciona la calculadora de peso ideal para gatos?
        </h3>
        <p class="text-gray-700 mt-2">
          Nuestra calculadora de peso ideal te permite verificar si tu gato está
          en su peso saludable. Solo necesitas ingresar algunos datos básicos y
          recibirás una evaluación inmediata.
        </p>
      </div>
      <div class="bg-gray-100 p-4 rounded-lg shadow-sm">
        <h3 class="text-xl font-semibold">
          ¿Puedo ver el historial médico de mi mascota en línea?
        </h3>
        <p class="text-gray-700 mt-2">
          Sí, al iniciar sesión en nuestra plataforma, podrás acceder al
          historial médico de tu mascota y revisar sus tratamientos y servicios
          recibidos.
        </p>
      </div>
    </div>
  </section>
  <!-- Botón de WhatsApp -->
  <a
    href="https://wa.me/3182273533"
    target="_blank"
    class="no-underline fixed bottom-5 right-5 bg-green-500 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg hover:bg-green-600"
    aria-label="Chat en WhatsApp"
  >
    <i class="pi pi-whatsapp text-xl"></i>
  </a>
</main>

<app-footer></app-footer>

<!-- Dialog para buscar mascotas -->
<p-dialog
  header="Buscar mis mascotas"
  [(visible)]="findMascotasDialog"
  [modal]="true"
>
  <div class="flex flex-column gap-2">
    <label for="cedula">Ingrese su cédula</label>
    <input pInputText class="primeng-input" id="cedula" [(ngModel)]="cedula" />
    <button id="btnBuscarMascotas" class="btn-2" (click)="buscarMascota()">
      Buscar
    </button>
  </div>

  <!-- Mostrar mascotas encontradas -->
  <div *ngIf="mascotas.length > 0" class="flex flex-wrap justify-center gap-4">
    <p-card
      *ngFor="let mascota of mascotas"
      [header]="mascota.nombre"
      [style]="{ width: '360px' }"
    >
      <div class="flex justify-center">
        <img
          class="object-cover rounded-full shadow-2 mb-4"
          [alt]="mascota.nombre"
          [src]="mascota.foto"
          width="200"
        />
      </div>
      <ul class="data list-none p-0 text-center">
        <li class="mb-2">
          <strong>Edad: </strong><span>{{ mascota.edad }} años</span>
        </li>
        <li class="mb-2">
          <strong>Raza: </strong><span>{{ mascota.raza }}</span>
        </li>
        <li class="mb-2">
          <strong>Peso: </strong><span>{{ mascota.peso }} kg</span>
        </li>
      </ul>
      <div class="flex justify-center">
        <p-button
          label="Ver tratamientos"
          [rounded]="true"
          severity="secondary"
          (click)="verTratamientos(mascota.id!)"
        ></p-button>
      </div>
    </p-card>
  </div>
</p-dialog>

<!-- Dialog para ver tratamientos -->
<p-dialog
  header="Historial Médico"
  [(visible)]="viewTratamientosMascotaDialog"
  [style]="{ width: '50vw' }"
  [modal]="true"
>
  <!-- Mostrar tratamientos encontrados -->
  <div class="flex flex-wrap justify-center gap-4">
    <p-card
      *ngFor="let tratamiento of tratamientos"
      [header]="tratamiento.fecha"
      [subheader]="'Tratado por: ' + tratamiento.nombreVeterinario"
      [style]="{ width: '360px' }"
    >
      <div class="flex justify-center">
        <img
          class="object-cover rounded-full shadow-2 mb-4"
          [alt]="tratamiento.nombreVeterinario"
          [src]="tratamiento.urlFotoVeterinario"
          width="200"
        />
      </div>
      <h4>Drogas asignada</h4>
      <p>
        {{
          tratamiento.nombreDroga
            ? tratamiento.nombreDroga
            : "No tiene droga asignada"
        }}
      </p>
    </p-card>
  </div>
</p-dialog>

<!-- Mensajes de notificación -->
<p-toast></p-toast>
